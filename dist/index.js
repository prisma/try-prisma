#!/usr/bin/env node
import{Command as d}from"commander";import i from"inquirer";import f from"axios";var p="https://api.github.com/repos/prisma/prisma-examples/git/trees/latest?recursive=1",m=[".vscode",".github",".editorconfig"];async function c(){let{data:r}=await f.get(p);console.log(r);let t=r.tree.filter(e=>!m.some(s=>e.path.startsWith(s))).reduce((e,s)=>{if(s.type==="blob"){let n=s.path.split("/").pop(),a=s.path.replace(`/${n}`,"");return e[a]?e[a].push(n):e[a]=[n],e}else return{...e,[s.path]:[]}},{});for(let e in t)t[e].includes("package.json")||delete t[e];return Object.keys(t).sort()}import h from"inquirer-search-list";i.registerPrompt("search-list",h);var o=class{constructor(){this.answers={template:null,install:!1,name:""}}async run(){var n;let t=await c();if(!this.answers.template){let{template:a}=await i.prompt({type:"search-list",message:"Which template would you like to use?",name:"template",choices:t,validate(l){return t.includes(l)?!0:"Oops! That isn't a valid template."}});this.answers.template=a}let{packages:e}=await i.prompt({type:"confirm",message:"Should we run `npm install` for you?",name:"packages",default:!1});this.answers.install=e;let{dirname:s}=await i.prompt({type:"input",message:"What should the project be named?",name:"dirname",default:((n=this.answers.template)==null?void 0:n.replace("/","_"))||"",filter:a=>a.replace("/","_"),validate(a){return/[<>:"\/\\|?*\x00-\x1F]|^(?:aux|con|clock\$|nul|prn|com[1-9]|lpt[1-9])$/i.test(a)?"Sorry, that name is invalid.":!0}});this.answers.name=s}downloadRepo(){}};var u=new d;async function g(){u.name("create-prisma-app").description("Quickly get up and running with one of Prisma's many starter templates.").version("0.0.1").option("-t, --template <template-name>","Which example project would you like to start off with?").parse(process.argv);let{template:r}=u.opts(),t=new o;r&&(t.answers.template=r),await t.run(),console.table(t.answers)}g();
//# sourceMappingURL=index.js.map